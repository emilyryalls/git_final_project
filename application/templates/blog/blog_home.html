{% extends "layout.html" %}

{% block body_content %}
<!-- Hero banner -->
<div class="hero-wrapper" style="position:relative;">
  <div class="hero-banner w-100 text-white d-flex justify-content-center align-items-center flex-wrap text-start"></div>

<!-- Hero card -->
  <div class="hero-card">
    <div class="text-content" style="flex: 1; padding: 30px 40px 30px 30px;">
      <h1>R.I.S.E. Fitness Blog</h1>
      <h2>Wellness starts here</h2>
      <p id="hero-description">Your go-to hub for all things health, wellness, and motivation; everything you need to RISE!</p>
    </div>
    <div class="hero-img">
      <img src="{{ url_for('static', filename='images/banner_img/blog_home.png') }}" alt="Blog banner image" style="width: 100%; height: 100%; object-fit: contain;">
    </div>
  </div>
</div>

<!-- Main content container -->
<div class="main-background-card">
    <div class="row">
      <!-- Filter form -->
      <form method="GET" action="{{ url_for('blogs') }}" class="p-4 mb-5">
        <div class="mb-3 ps-2">
          <h3>Filter Blogposts</h3>
        </div>
        <div class="d-flex flex-wrap align-items-end gap-3">
          <div class="flex-fill" style="flex: 2 1 0;">
            <select name="category" class="form-select custom-dropdown-btn w-100">
              <option value="">🏷️ Category</option>
              <option value="Workout Routines"
                {{ 'selected' if request.args.get('category')=='Workout Routines' else '' }}>
                🏋️‍♂️ Workout Routines
              </option>
              <option value="Nutrition"
                {{ 'selected' if request.args.get('category')=='Nutrition' else '' }}>
                🥗 Nutrition
              </option>
              <option value="Mindset & Motivation"
                {{ 'selected' if request.args.get('category')=='Mindset & Motivation' else '' }}>
                🧠 Mindset & Motivation
              </option>
              <option value="Weight Loss"
                {{ 'selected' if request.args.get('category')=='Weight Loss' else '' }}>
                ⚖️ Weight Loss
              </option>
              <option value="Fitness for Beginners"
                {{ 'selected' if request.args.get('category')=='Fitness for Beginners' else '' }}>
                👟 Fitness for Beginners
              </option>
              <option value="Recovery & Injury Prevention"
                {{ 'selected' if request.args.get('category')=='Recovery & Injury Prevention' else '' }}>
                💪 Recovery & Injury Prevention
              </option>
              <option value="Health & Wellness"
                {{ 'selected' if request.args.get('category')=='Health & Wellness' else '' }}>
                🌿 Health & Wellness
              </option>
              <option value="Fitness Challenges"
                {{ 'selected' if request.args.get('category')=='Fitness Challenges' else '' }}>
                🏆 Fitness Challenges
              </option>
            </select>
          </div>

          <!-- Buttons -->
          <div class="flex-fill" style="flex: 1 1 0;">
            <button type="submit" class="cta-button w-100">Filter</button>
          </div>

          <div class="flex-fill" style="flex: 1 1 0;">
            <a href="/blog_home" class="cta-button-clear w-100 d-flex justify-content-center align-items-center text-decoration-none ms-2">Clear</a>
          </div>
        </div>
      </form>

      <!-- Blog cards section -->
      <section class="mb-5">
        <div class="row row-cols-1 row-cols-md-3 g-4">
          {% for blog in blog_list %}
          <div class="col-md-4">
            <a href="{{ url_for('view_blog', blog_id=blog['blog_id']) }}"
               class="text-decoration-none text-dark">
              <div class="card h-100 border-0 blog-card">
                <img src="{{ url_for('static', filename=blog['image']) }}" class="card-img-top" style="height: 250px; object-fit: cover;">
                <div class="card-body d-flex flex-column">
                  <h3 class="card-title text-center fw-semibold">{{ blog['title'] }}</h3>
                  <p class="card-text small text-muted">{{ blog['summary'] }}</p>
                </div>
              </div>
            </a>
          </div>
          {% endfor %}
        </div>
      </section>

      <!-- Subscribe section -->
      <form action="{{ url_for('subscribe') }}" method="POST"
            class="rounded p-5 mb-5 mx-auto"
            style="background-color: #fff5ec; max-width: 70%; min-width: 400px;">

        <!-- Heading & blurb -->
        <div class="text-center mb-4">
          <h3>Stay Inspired with Exclusive Updates!</h3>
          <p class="text-muted mb-0">
            Join the R.I.S.E. community to receive motivation, tips, and blog updates directly to your inbox.
          </p>
        </div>

        <!-- Input + button flex row -->
        <div class="d-flex flex-wrap align-items-end justify-content-center gap-3">
          <div class="flex-fill" style="flex: 2 1 300px;">
            <input type="email"
                   name="email"
                   class="form-control custom-dropdown-btn w-100"
                   placeholder="Enter your email"
                   required>
          </div>
          <div class="flex-shrink-0">
            <button type="submit" class="cta-button">
              Subscribe
            </button>
          </div>
        </div>
      </form>
    </div>
</div>

<div class="mb-5"></div>

{% endblock %}
